---
layout: post
title: "Απενεργοποίηση snaps σε φρέσκια εγκατάσταση Ubuntu"
date: 2020-09-09 12:30:00
description: Πως να απαλλαγείτε από τα snaps σε φρέσκια εγκατάσταση Ubuntu; Δείτε πόσο εύκολο είναι.
tags:
- ubuntu
- snap
categories:
- Ubuntu
- snap
twitter_text: 'Πως να απενεργοποιήσετε τα #snaps σε φρέσκια εγκατάσταση #Ubuntu'
---

![Ubuntu snap](/post_images/ubuntu/ubuntu-snap.jpg "Ubuntu και snaps")

# Πρόλογος

Το πρόβλημα που αντιμετώπιζαν όλοι οι προγραμματιστές ήταν οι εξαρτήσεις. Φτιάχνοντας ένα πρόγραμμα, τις περισσότερες φορές χρησιμοποιούσε βιβλιοθήκες του συστήματος. Επειδή όμως όλα τα συστήματα δεν είναι ίδια καθώς υπάρχουν διανομές LTS, stable και rolling, η έκδοση της κάθε βιβλιοθήκης είναι διαφορετική, επομένως το πρόγραμμα δεν λειτουργεί σε όλα τα συστήματα. Γι'αυτό εδώ έρχονται να δώσουν λύση τα πακέτα snap, flatpak, appimage. Έτσι πετυχαίνουμε:

* Ο χρήστης είναι σίγουρος ότι το πρόγραμμα που έχει φτιάξει ο προγραμματιστής θα εκτελεστεί χωρίς πρόβλημα αφού θα περιέχει όλες τις εξαρτήσεις
* Η εφαρμογή με το snap δεν θα χρησιμοποιήσει κάτι από το σύστημά σας. Ούτε θα αλλάξει κάτι που ίσως να χαλάσει τη λειτουργία κάποιου άλλου προγράμματος.
* Τα πακέτα snap θα εκτελεστούν το ίδιο ανεξάρτητα με την διανομή και συνήθως είναι ενημερωμένα σε σχέση με την έκδοση του προγράμματος που βρίσκεται στα αποθετήρια της διανομής σας

Τώρα όλα αυτά ακούγονται υπέροχα, και είναι κατά κάποιον τρόπο (ειδικά για προγραμματιστές), αλλά όλο αυτό έχει ένα κόστος: και αυτό είναι γενικά η απόδοση και οι «ενοχλήσεις» με το «θέμα» της εφαρμογής, η πρόσβαση σε φακέλους των χρηστών. Προσωπικά βρίσκω ότι εάν θέλω να τρέξω μια εφαρμογή, κλίνω περισσότερο προς το Flatpak, καθώς είναι πιο εκτεταμένο και φαίνεται λίγο πιο ώριμο από το σύστημα snap της Canonical. Είναι προσωπική άποψη και δεν θέλω να υπάρξει flame μεταξύ των τεχνολογιών αυτών.

Σε κάθε περίπτωση, απενεργοποιώ συνήθως τα snaps εντελώς σε μια νέα εγκατάσταση του Ubuntu (γιατί στην openSUSE πρέπει να εγκατασταθεί υπηρεσία που θα εκτελείται κατά την εκκίνηση) και θα σας δείξω πώς να το κάνετε αυτό στη νέα έκδοση του Ubuntu 20.04.

# 1. Αφαίρεση των εγκατεστημένων snaps

Σε μια φρέσκια εγκατάσταση Ubuntu, μερικά snap είναι προεγκατεστημένα. Μπορείτε να δείτε την λίστα αυτών με την εντολή:

{% highlight ruby %}
snap list
{% endhighlight %}

Θα δώσει παράδειγμα το παρακάτω:

{% highlight ruby %}
stathis@ubuntu:~$ snap list
Name               Version           Rev   Tracking         Publisher   Notes
core               16-2.44.1         8935  latest/stable    canonical✓  core
core18             20200311          1705  latest/stable    canonical✓  base
gnome-3-34-1804    0+git.2c86692     24    latest/stable/…  canonical✓  -
gtk-common-themes  0.1-30-gd41a42a   1502  latest/stable/…  canonical✓  -
snap-store         20200415.e028804  394   latest/stable/…  canonical✓  -
{% endhighlight %}

Για να τα αφαιρέσετε, θα πρέπει να εκτελέσετε την εντολή:

{% highlight ruby %}
sudo snap remove package
{% endhighlight %}

Εκτελέστε τις παρακάτω εντολής για να αφαιρέσετε όλα:

{% highlight ruby %}
sudo snap remove snap-store
sudo snap remove gtk-common-themes
sudo snap remove gnome-3-34-1804
sudo snap remove core18
{% endhighlight %}

Μια εύλογη ερώτηση είναι γιατί δεν αφαίρεσα το **core snap**. Δεν μπορεί να αφαιρεθεί τώρα αλλά θα το αφαιρέσουμε σε επόμενο βήμα.

# 2. Αποπροσάρτηση της υπηρεσίας snap core

Στην παρακάτω εντολή, θα πρέπει να αντικαταστήσετε το **xxxx** με το δικό σας ID μέσα στον κατάλογο του συστήματός σας. Μπορείτε να την βρείτε εκτελώντας την εντολή **df**.

{% highlight ruby %}
 sudo umount /snap/core/xxxx
{% endhighlight %}

# 3. Αφαίρεση του πακέτου snapd

Τώρα, πρέπει να αφαιρεθεί το πακέτο **snapd** και όλες οι συγγενείς υπηρεσίες. Εκτελέστε την εντολή:

{% highlight ruby %}
sudo apt purge snapd
{% endhighlight %}

# 4. Αφαίρεση όλων των καταλόγων των σχετικών με snap

Τέλος, πρέπει να αφαιρέσετε τους καταλόγους που σχετίζονται με τα snap πακέτα που βρίσκονται στο σύστμά σας. Μπορεί να μην τους έχετε μετά το βήμα 3. Αν δεν τους έχετε τότε είστε ΟΚ. Αν τους έχετε, τότε τους αφαιρείτε με τις παρακάτω εντολές.

{% highlight ruby %}
rm -rf ~/snap
sudo rm -rf /snap
sudo rm -rf /var/snap
sudo rm -rf /var/lib/snapd
{% endhighlight %}

Τα καταφέρατε. Το σύστημά σας δεν εχει snap.
Εάν θέλετε να εγκαταστήσετε τα flatpak τότε δείτε εδώ πως μπορείτε...
[Εγκατάσταση και χρήση flatpak στο openSUSE](https://eiosifidis.blogspot.com/2019/12/opensuse-flatpak.html)
